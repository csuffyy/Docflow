@model RapidDoc.Models.ViewModels.USK_REQ_TRIP_Registration_View
@using RapidDoc.Extensions;

<div class="editor-label">
    @Html.LabelForRequired(model => Model.Purpose)
</div>
<div class="editor-field">
    @Html.TextAreaFor(model => Model.Purpose, new { @class = "form-control", placeholder = "Цель" })
</div>

<div class="panel panel-default">
    <h6><small class="text-danger"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> Для ручного ввода ФИО - Должность, которых нет в справочнике нужно ввести текст и нажать Enter. Не используйте запятую в тексте!</small></h6>
    <div class="editor-label">
        @Html.LabelForRequired(model => Model.Users)
    </div>
    <div class="editor-field">
        @Html.TextBoxFor(model => Model.Users, new { @class = "form-control", @data_role = "tagsinputEmplBothOpt", placeholder = "ФИО" })
    </div>
</div>
<div class="row">
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.FlyAwayDate)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => Model.FlyAwayDate, "{0:dd.MM.yyyy}", new { @class = "datepicker form-control", startDate = "" })
        </div>
    </div>
</div>

<div class="row">
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.FlyAwayTime)
        </div>
        <div class="bootstrap-timepicker editor-field">
            @Html.TextBoxFor(model => Model.FlyAwayTime, null, new { @class = "form-control form-control-date timepicker" })
            <span class="add-on"><i class="glyphicon glyphicon-time"></i></span>
        </div>
    </div>

    <div class="col-xs-2">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.NeedMeet)
        </div>
        <div class="editor-field">
            @Html.CheckBoxFor(model => model.NeedMeet)
        </div>
    </div>
</div>

<div class="row">
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => model.OrganizationTableId)
        </div>
        <div class="editor-field">
            @Html.Action("GetOrganizationORD", "Custom")
        </div>
    </div>
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.Organization)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => Model.Organization, new { @class = "form-control", placeholder = "Другое" })
        </div>
    </div>
</div>
<hr />
<div class="row">
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.FlyBackDate)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => Model.FlyBackDate, "{0:dd.MM.yyyy}", new { @class = "datepicker form-control", startDate = "" })
        </div>
    </div>
</div>

<div class="row">
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.FlyBackTime)
        </div>
        <div class="bootstrap-timepicker editor-field">
            @Html.TextBoxFor(model => Model.FlyBackTime, null, new { @class = "form-control form-control-date timepicker" })
            <span class="add-on"><i class="glyphicon glyphicon-time"></i></span>
        </div>
    </div>

    <div class="col-xs-2">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.NeedSeeOff)
        </div>
        <div class="editor-field">
            @Html.CheckBoxFor(model => model.NeedSeeOff)
        </div>
    </div>
</div>

<div class="row">
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.FromDate)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => Model.FromDate, "{0:dd.MM.yyyy}", new { @class = "datepicker form-control", startDate = "" })
        </div>
    </div>
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.ToDate)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => Model.ToDate, "{0:dd.MM.yyyy}", new { @class = "datepicker form-control", startDate = "" })
        </div>
    </div>
</div>

<div class="row">
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => model.CountryTableId)
        </div>
        @Html.Action("GetCountryORD", "Custom", new { @id = Model.CountryTableId })
    </div>
    <div class="col-xs-4">
        <div class="editor-label">
            @Html.LabelForRequired(model => Model.Country)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => Model.Country, new { @class = "form-control", placeholder = "Другое" })
        </div>
    </div>
</div>

<div class="editor-label">
    @Html.LabelForRequired(model => Model.Note)
</div>
<div class="editor-field">
    @Html.TextAreaFor(model => Model.Note, new { @class = "form-control", placeholder = "Примечание" })
</div>

<script type="text/javascript">
    $(function () {

        $('#OrganizationTableId').change(function (event) {
            if ($('#OrganizationTableId').val() == '') {
                $('#Organization')[0].disabled = false;
            }
            else {
                $('#Organization')[0].disabled = true;
                $('#Organization').val('');
            }
        });

        $('#CountryTableId').change(function (event) {
            if ($('#CountryTableId').val() == '') {
                $('#Country')[0].disabled = false;
            }
            else {
                $('#Country')[0].disabled = true;
                $('#Country').val('');
            }
        });
    });
</script>
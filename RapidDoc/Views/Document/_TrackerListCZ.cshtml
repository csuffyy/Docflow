@model IEnumerable<RapidDoc.Models.ViewModels.WFTrackerListView>

@if (Model.Count() > 0)
{
    <ul>
    @foreach (var trackerItem in Model.Where(x => x.TrackerType == RapidDoc.Models.Repository.TrackerType.Approved || x.TrackerType == RapidDoc.Models.Repository.TrackerType.Cancelled))
    {
        <li>
            <h5>
                @Html.DisplayFor(modelItem => trackerItem.Executors)
                @if (trackerItem.SignDate != null)
                {
                    <span> - </span>
                    @Html.DisplayFor(modelItem => trackerItem.ActivityName)
                    <small class="text-danger">(@Html.DisplayFor(modelItem => trackerItem.SignDate))</small> 
                }
                <span> - </span>
                @if (trackerItem.TrackerType == RapidDoc.Models.Repository.TrackerType.Waiting)
                {
                    @UIElementRes.UIElement.Waiting
                }
                @if (trackerItem.TrackerType == RapidDoc.Models.Repository.TrackerType.Approved)
                {
                    @UIElementRes.UIElement.Yes
                }
                @if (trackerItem.TrackerType == RapidDoc.Models.Repository.TrackerType.Cancelled)
                {
                    @UIElementRes.UIElement.No
                }
            </h5>
        </li>
    }
    </ul>
    if (Model.Where(x => x.TrackerType == RapidDoc.Models.Repository.TrackerType.Waiting).Count() > 0)
    {
        <a href="@Url.Action("GetWaitingUserCZ", "Document", new { id = ViewBag.DocumentId })" class="hidden-print"><p class="help-block">@Model.Where(x => x.TrackerType == RapidDoc.Models.Repository.TrackerType.Waiting).Count() ожидают подписи</p></a>
        <br class="hidden-print" />
    }
}

